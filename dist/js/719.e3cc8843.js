"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[719],{4181:function(a,e,t){t.d(e,{Z:function(){return i}});var n=t(4311);const l="/api/infaq";class i{static async all(){const a=await n.Z.get(l);return a.data.sort(((a,e)=>new Date(e.created)-new Date(a.created)))}static async find(a){const e=await n.Z.get(l+"/"+a);return e.data}static async store(a){const e=await n.Z.post(l,a);return e.data}static async update(a,e){const t=await n.Z.patch(l+"/"+a,e);return t.data}static async destroy(a){const e=await n.Z["delete"](l+"/"+a);return e.data}}},719:function(a,e,t){t.r(e),t.d(e,{default:function(){return h}});var n=t(3396),l=t(7139),i=t(9242),u=t(4181),o=t(4311);const r="/api/pay/";class s{static async token(a){const e=await o.Z.post(r+"token",a);return e.data}}var c=t(4870),d=t(2483),m=t(7312),p=t(4075),w=t(6422),f=t(6824),v=t(8521),y=t(3173),k=t(165);const g={class:"ma-4"};var b={__name:"PaymentView",setup(a){const e=(0,d.yj)(),t=a=>!!a||"Kolom harus diisi",o=a=>a>=1e5||"Minimum infaq 100.000",r=(0,c.iH)(),b=[{text:"Rp. 100.000",value:1e5},{text:"Rp. 250.000",value:25e4},{text:"Rp. 50.0000",value:5e5},{text:"Rp. 1.000.000",value:1e6},{text:"Rp. 1.500.000",value:15e5},{text:"Rp. 2.000.000",value:2e6}],_=(0,c.iH)(1e5),h=(0,c.qj)({kategori:null,nama:null,nominal:1e5}),x=(0,c.iH)(null);function W(a){_.value=a,h.nominal=a}async function Z(){const a=await r.value.validate();if(a.valid&&h.nominal>0){x.value=!0;let a={transaction_details:{order_id:h.kategori+"-"+Math.floor((new Date).getTime()/1e3),gross_amount:h.nominal},credit_card:{secure:!0},customer_details:{first_name:h.nama}};const e=await s.token(a);e&&(x.value=!1),window.snap.pay(e,{onSuccess:function(){alert("Pembayaran Berhasil!")},onPending:function(){alert("Menunggu Pembayaran!")},onError:function(){alert("Pembayaran Gagal!")},onClose:function(){alert("Tutup halaman pembayaran?")}})}}return(0,n.wF)((async()=>{const a=await u.Z.find(e.params.id).catch((()=>window.location.href="/"));h.kategori=a.judul})),(a,e)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("h2",null,(0,l.zw)(h.kategori),1),(0,n.Wm)(p.J,{class:"my-2"}),(0,n.Wm)(w.O,{ref_key:"inputs",ref:r,class:"px-6 py-4 border",onSubmit:e[2]||(e[2]=(0,i.iM)((a=>Z()),["prevent"]))},{default:(0,n.w5)((()=>[(0,n.Wm)(k.hw,{modelValue:h.nama,"onUpdate:modelValue":e[0]||(e[0]=a=>h.nama=a),rules:[t],label:"Nama",variant:"underlined","prepend-icon":"mdi-account",autofocus:""},null,8,["modelValue","rules"]),(0,n._)("div",g,[(0,n.Wm)(f.o,{"no-gutters":""},{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(b,(a=>(0,n.Wm)(v.D,{cols:"5",class:"mb-2 mr-2",key:a.value},{default:(0,n.w5)((()=>[(0,n.Wm)(m.T,{color:"blue",variant:_.value==a.value?"flat":"outlined","data-value":a.value,block:"",onClick:e=>W(a.value),class:"text-capitalize"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(a.text),1)])),_:2},1032,["variant","data-value","onClick"])])),_:2},1024))),64))])),_:1})]),(0,n.Wm)(k.hw,{modelValue:h.nominal,"onUpdate:modelValue":e[1]||(e[1]=a=>h.nominal=a),rules:[t,o],type:"number",label:"Nominal Infaq",variant:"underlined","prepend-icon":"mdi-currency-usd"},null,8,["modelValue","rules"]),(0,n.Wm)(p.J),x.value?((0,n.wg)(),(0,n.j4)(m.T,{key:1,type:"submit",color:"primary",class:"mt-4",disabled:""},{default:(0,n.w5)((()=>[(0,n.Wm)(y.L,{indeterminate:""})])),_:1})):((0,n.wg)(),(0,n.j4)(m.T,{key:0,type:"submit",color:"primary",class:"mt-4"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Bayar Sekarang ")])),_:1}))])),_:1},512)],64))}};const _=b;var h=_}}]);
//# sourceMappingURL=719.e3cc8843.js.map