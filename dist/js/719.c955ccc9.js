"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[719],{4181:function(a,e,t){t.d(e,{Z:function(){return i}});var n=t(4311);const l="/api/infaq";class i{static async all(){const a=await n.Z.get(l);return a.data.sort(((a,e)=>new Date(e.created)-new Date(a.created)))}static async find(a){const e=await n.Z.get(l+"/"+a);return e.data}static async store(a){const e=await n.Z.post(l,a);return e.data}static async update(a,e){const t=await n.Z.patch(l+"/"+a,e);return t.data}static async destroy(a){const e=await n.Z["delete"](l+"/"+a);return e.data}}},719:function(a,e,t){t.r(e),t.d(e,{default:function(){return x}});var n=t(3396),l=t(7139),i=t(9242),u=t(4181),r=t(4311);const o="/api/pay/";class s{static async token(a){const e=await r.Z.post(o+"token",a);return e.data}}var c=t(4870),d=t(2483),m=t(7312),p=t(4075),v=t(6422),w=t(6824),f=t(8521),y=t(3173),k=t(165);const g={class:"ma-4"},_={key:0};var b={__name:"PaymentView",setup(a){const e=(0,d.yj)(),t=a=>!!a||"Kolom harus diisi",r=a=>a>=1e5||"Minimum infaq 100.000",o=(0,c.iH)(),b=[{text:"Rp. 100.000",value:1e5},{text:"Rp. 250.000",value:25e4},{text:"Rp. 50.0000",value:5e5},{text:"Rp. 1000.000",value:1e6},{text:"Rp. 1500.000",value:15e5},{text:"Rp. 2000.000",value:2e6}],h=(0,c.iH)(1e5),x=(0,c.qj)({kategori:null,nama:null,nominal:1e5}),W=(0,c.iH)(null);function Z(a){h.value=a,x.nominal=a}async function D(){const a=await o.value.validate();if(a.valid&&x.nominal>0){W.value=!0;let a={transaction_details:{order_id:x.kategori+"-"+Math.floor((new Date).getTime()/1e3),gross_amount:x.nominal},credit_card:{secure:!0},customer_details:{first_name:x.nama}};const e=await s.token(a);e&&(W.value=!1),window.snap.pay(e,{onSuccess:function(){alert("Pembayaran Berhasil!")},onPending:function(){alert("Menunggu Pembayaran!")},onError:function(){alert("Pembayaran Gagal!")},onClose:function(){alert("Tutup halaman pembayaran?")}})}}return(0,n.wF)((async()=>{const a=await u.Z.find(e.params.id);x.kategori=a.judul})),(a,e)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("h2",null,(0,l.zw)(x.kategori),1),(0,n.Wm)(v.O,{ref_key:"inputs",ref:o,class:"px-6 py-4 border",onSubmit:e[2]||(e[2]=(0,i.iM)((a=>D()),["prevent"]))},{default:(0,n.w5)((()=>[(0,n.Wm)(k.hw,{modelValue:x.nama,"onUpdate:modelValue":e[0]||(e[0]=a=>x.nama=a),rules:[t],label:"Nama",variant:"underlined","prepend-icon":"mdi-account"},null,8,["modelValue","rules"]),(0,n._)("div",g,[(0,n.Wm)(w.o,{"no-gutters":""},{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(b,(a=>(0,n.Wm)(f.D,{cols:"5",class:"mb-2 mr-2",key:a.value},{default:(0,n.w5)((()=>[(0,n.Wm)(m.T,{color:"blue",variant:h.value==a.value?"flat":"outlined","data-value":a.value,block:"",onClick:e=>Z(a.value)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(a.text),1)])),_:2},1032,["variant","data-value","onClick"])])),_:2},1024))),64))])),_:1})]),(0,n.Wm)(k.hw,{modelValue:x.nominal,"onUpdate:modelValue":e[1]||(e[1]=a=>x.nominal=a),rules:[t,r],type:"number",label:"Nominal Infaq",variant:"underlined","prepend-icon":"mdi-currency-usd"},null,8,["modelValue","rules"]),(0,n.Wm)(p.J),(0,n.Wm)(m.T,{type:"submit",color:"primary",class:"mt-4"},{default:(0,n.w5)((()=>[W.value?((0,n.wg)(),(0,n.j4)(y.L,{key:1,indeterminate:""})):((0,n.wg)(),(0,n.iD)("span",_,"Bayar Sekarang"))])),_:1})])),_:1},512)],64))}};const h=b;var x=h}}]);
//# sourceMappingURL=719.c955ccc9.js.map