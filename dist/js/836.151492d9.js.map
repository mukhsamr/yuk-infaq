{"version":3,"file":"js/836.151492d9.js","mappings":"0WAKA,MAAMA,EAAQ,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,UAAW,YAAa,UAAW,WAAY,YACxHC,GAAOC,EAAAA,EAAAA,IAAS,CAClBF,MAAO,GACPG,IAAK,KAGHC,GAAQC,EAAAA,EAAAA,MACRC,EAAQ,CAAEC,KAAYA,GAAS,qBAC/BC,GAASC,EAAAA,EAAAA,MACTC,GAAUD,EAAAA,EAAAA,MAGhB,SAASE,EAAWC,GAChB,MAAMC,EAAOD,EAAOE,OAAOC,MAAM,GACjCd,EAAKE,IAAMU,CACf,CAEAG,eAAeC,IAEX,MAAMC,QAAiBV,EAAOD,MAAMW,WAEpC,GAAIA,EAASC,MAAO,CAChB,MAAMC,EAAW,IAAIC,SAErB,IAAK,MAAMC,KAAQrB,EACfmB,EAASG,OAAOD,EAAMrB,EAAKqB,IAG/B,MAAME,QAAYC,EAAAA,EAAAA,OAAerB,EAAMsB,OAAOC,GAAIP,GAClDQ,OAAOC,SAAS,CACZC,IAAK,EACLC,KAAM,EACNC,SAAU,WAGdtB,EAAQH,MAAQiB,EAAId,OACxB,CAEJ,C,OAEAuB,EAAAA,EAAAA,KAAcjB,UACV,MAAMQ,QAAYC,EAAAA,EAAAA,KAAarB,EAAMsB,OAAOC,IAE5C1B,EAAKD,MAAQwB,EAAIxB,MACjBC,EAAKiC,SAAWV,EAAIrB,GAAG,I,s9BC9C3B,MAAMgC,EAAc,EAEpB,O","sources":["webpack://client/./src/views/Laporan/EditLaporanView.vue","webpack://client/./src/views/Laporan/EditLaporanView.vue?ec97"],"sourcesContent":["<script setup>\r\nimport Laporan from \"@/api/Laporan\";\r\nimport { reactive, ref, onBeforeMount } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\n\r\nconst bulan = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember']\r\nconst form = reactive({\r\n    bulan: '',\r\n    pdf: ''\r\n})\r\n\r\nconst route = useRoute()\r\nconst rules = [(value) => !!value || \"Kolom harus diisi\"]\r\nconst inputs = ref()\r\nconst message = ref()\r\n\r\n\r\nfunction selectFile(upload) {\r\n    const file = upload.target.files[0]\r\n    form.pdf = file\r\n}\r\n\r\nasync function update() {\r\n\r\n    const validate = await inputs.value.validate()\r\n\r\n    if (validate.valid) {\r\n        const formData = new FormData()\r\n\r\n        for (const item in form) {\r\n            formData.append(item, form[item])\r\n        }\r\n\r\n        const res = await Laporan.update(route.params.id, formData)\r\n        window.scrollTo({\r\n            top: 0,\r\n            left: 0,\r\n            behavior: 'smooth'\r\n        })\r\n\r\n        message.value = res.message\r\n    }\r\n\r\n}\r\n\r\nonBeforeMount(async () => {\r\n    const res = await Laporan.find(route.params.id)\r\n\r\n    form.bulan = res.bulan\r\n    form.pdf_lama = res.pdf\r\n})\r\n</script>\r\n\r\n<template>\r\n    <h2>Edit Laporan</h2>\r\n\r\n    <v-divider class=\"mb-4 mt-2\"></v-divider>\r\n\r\n    <v-alert type=\"success\" class=\"my-3\" closable close-label=\"Close Alert\" v-if=\"message\">\r\n        {{ message }}\r\n    </v-alert>\r\n\r\n    <v-form ref=\"inputs\" enctype=\"multipart/form-data\" class=\"px-6 py-4 border\" @submit.prevent=\"update\">\r\n        <v-select v-model=\"form.bulan\" :rules=\"rules\" label=\"Bulan\" :items=\"bulan\" variant=\"underlined\"\r\n            prepend-icon=\"mdi-note\"></v-select>\r\n        <v-file-input label=\"PDF\" :rules=\"rules\" variant=\"underlined\" show-size accept=\"application/pdf\"\r\n            @change=\"selectFile\"></v-file-input>\r\n\r\n        <v-btn type=\"submit\" color=\"green\" class=\"my-4\">Edit</v-btn>\r\n    </v-form>\r\n\r\n    <v-btn color=\"grey\" class=\"mt-4\" prepend-icon=\"mdi-arrow-left\" to=\"/laporan\">Kembali</v-btn>\r\n</template>","import script from \"./EditLaporanView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditLaporanView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["bulan","form","reactive","pdf","route","useRoute","rules","value","inputs","ref","message","selectFile","upload","file","target","files","async","update","validate","valid","formData","FormData","item","append","res","Laporan","params","id","window","scrollTo","top","left","behavior","onBeforeMount","pdf_lama","__exports__"],"sourceRoot":""}