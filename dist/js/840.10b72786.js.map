{"version":3,"file":"js/840.10b72786.js","mappings":"yJAEA,MAAMA,EAAM,cAEG,MAAMC,EAGjBC,mBACI,MAAMC,QAAYC,EAAAA,EAAAA,IAAUJ,GAC5B,OAAOG,EAAIE,KAAKC,MAAK,CAACC,EAAGC,IACd,IAAIC,KAAKD,EAAEE,SAAW,IAAID,KAAKF,EAAEG,UAEhD,CAGAR,kBAAkBS,GACd,MAAMR,QAAYC,EAAAA,EAAAA,IAAUJ,EAAM,IAAMW,GACxC,OAAOR,EAAIE,IACf,CAGAH,mBAAmBU,GACf,MAAMT,QAAYC,EAAAA,EAAAA,KAAWJ,EAAKY,GAClC,OAAOT,EAAIE,IACf,CAGAH,oBAAoBS,EAAIC,GACpB,MAAMT,QAAYC,EAAAA,EAAAA,MAAYJ,EAAM,IAAMW,EAAIC,GAC9C,OAAOT,EAAIE,IACf,CAGAH,qBAAqBS,GACjB,MAAMR,QAAYC,EAAAA,EAAAA,UAAaJ,EAAM,IAAMW,GAC3C,OAAOR,EAAIE,IACf,E,sYC/BJ,MAAMA,GAAOQ,EAAAA,EAAAA,MACPC,GAAUD,EAAAA,EAAAA,MACVE,GAAOF,EAAAA,EAAAA,MAGbG,eAAeC,EAAMN,GACjB,GAAIO,QAAQ,6BAA8B,CACtC,MAAMf,QAAYF,EAAAA,EAAAA,QAAeU,GACjCG,EAAQK,MAAQhB,EAAIW,QACpBM,OAAOC,SAAS,CACZC,IAAK,EACLC,KAAM,EACNC,SAAU,WAGdC,YAAW,KACPC,SAASC,QAAQ,GAClB,IACP,CACJ,C,OAEAC,EAAAA,EAAAA,KAAcZ,UACV,MAAMb,QAAY0B,EAAAA,EAAAA,OAAYC,OAAOC,GAAQA,IAC7ChB,EAAKI,MAAQhB,EAAI6B,SAEjB3B,EAAKc,YAAclB,EAAAA,EAAAA,KAAY,I,4vDC3BnC,MAAMgC,EAAc,EAEpB,O","sources":["webpack://client/./src/api/Berita.js","webpack://client/./src/views/Berita/BeritaView.vue","webpack://client/./src/views/Berita/BeritaView.vue?1fa9"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst url = '/api/berita'\r\n\r\nexport default class Berita {\r\n\r\n    // Get all\r\n    static async all() {\r\n        const res = await axios.get(url)\r\n        return res.data.sort((a, b) => {\r\n            return new Date(b.created) - new Date(a.created)\r\n        })\r\n    }\r\n\r\n    // Find\r\n    static async find(id) {\r\n        const res = await axios.get(url + '/' + id)\r\n        return res.data\r\n    }\r\n\r\n    // Store\r\n    static async store(form) {\r\n        const res = await axios.post(url, form)\r\n        return res.data\r\n    }\r\n\r\n    // Update\r\n    static async update(id, form) {\r\n        const res = await axios.patch(url + '/' + id, form)\r\n        return res.data\r\n    }\r\n\r\n    // Destroy\r\n    static async destroy(id) {\r\n        const res = await axios.delete(url + '/' + id)\r\n        return res.data\r\n    }\r\n\r\n}","<script setup>\r\nimport { onBeforeMount, ref } from \"vue\";\r\nimport Auth from \"@/api/Auth\";\r\nimport Berita from \"@/api/Berita\";\r\n\r\nconst data = ref()\r\nconst message = ref()\r\nconst user = ref()\r\n\r\n\r\nasync function hapus(id) {\r\n    if (confirm('Konfirmasi hapus kategori')) {\r\n        const res = await Berita.destroy(id)\r\n        message.value = res.message\r\n        window.scrollTo({\r\n            top: 0,\r\n            left: 0,\r\n            behavior: 'smooth'\r\n        })\r\n\r\n        setTimeout(() => {\r\n            location.reload()\r\n        }, 2000);\r\n    }\r\n}\r\n\r\nonBeforeMount(async () => {\r\n    const res = await Auth.find().catch((err) => err)\r\n    user.value = res.username\r\n\r\n    data.value = await Berita.all()\r\n})\r\n</script>\r\n\r\n<template>\r\n    <h1>Kabar Terkini</h1>\r\n\r\n    <v-divider class=\"mb-4\"></v-divider>\r\n\r\n    <v-alert type=\"success\" class=\"my-3\" closable close-label=\"Close Alert\" v-if=\"message\">\r\n        {{ message }}\r\n    </v-alert>\r\n\r\n    <v-btn color=\"indigo\" class=\"my-2\" prepend-icon=\"mdi-plus\" @click=\"$router.push('/add-berita')\" v-if=\"user\">\r\n        Tambah Kategori\r\n    </v-btn>\r\n\r\n    <v-row>\r\n        <v-col v-for=\"item in data\" :key=\"item._id\" cols=\"6\" sm=\"4\">\r\n            <v-card class=\"mx-auto\" max-width=\"400\" :to=\"`/find-berita/${item._id}`\">\r\n                <v-img class=\"align-end text-white\" height=\"150\" :src=\"'/' + item.gambar\" cover>\r\n                    <v-card-title>{{ item.judul }}</v-card-title>\r\n\r\n                    <template v-slot:placeholder>\r\n                        <div class=\"d-flex align-center justify-center fill-height\">\r\n                            <v-progress-circular indeterminate color=\"grey-lighten-4\"></v-progress-circular>\r\n                        </div>\r\n                    </template>\r\n                </v-img>\r\n\r\n                <v-card-subtitle class=\"pt-4\">\r\n                    Dibuat: {{ (new Date(item.created)).toLocaleDateString() }}\r\n                </v-card-subtitle>\r\n\r\n                <v-card-text>\r\n                    <div>{{ item.deskripsi.substring(0, 60) + ' ...' }}</div>\r\n                </v-card-text>\r\n\r\n                <v-divider></v-divider>\r\n\r\n                <template v-if=\"user\">\r\n                    <v-divider></v-divider>\r\n\r\n                    <v-card-actions>\r\n                        <v-btn color=\"green\" :to=\"`/edit-berita/${item._id}`\">Edit</v-btn>\r\n                        <v-btn color=\"red\" @click=\"hapus(item._id)\">Hapus</v-btn>\r\n                    </v-card-actions>\r\n                </template>\r\n            </v-card>\r\n        </v-col>\r\n    </v-row>\r\n</template>","import script from \"./BeritaView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BeritaView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["url","Berita","static","res","axios","data","sort","a","b","Date","created","id","form","ref","message","user","async","hapus","confirm","value","window","scrollTo","top","left","behavior","setTimeout","location","reload","onBeforeMount","Auth","catch","err","username","__exports__"],"sourceRoot":""}