{"version":3,"file":"js/679.38f636cf.js","mappings":"yJAEA,MAAMA,EAAM,aAEG,MAAMC,EAGjBC,mBACI,MAAMC,QAAYC,EAAAA,EAAAA,IAAUJ,GAC5B,OAAOG,EAAIE,KAAKC,MAAK,CAACC,EAAGC,IACd,IAAIC,KAAKD,EAAEE,SAAW,IAAID,KAAKF,EAAEG,UAEhD,CAGAR,kBAAkBS,GACd,MAAMR,QAAYC,EAAAA,EAAAA,IAAUJ,EAAM,IAAMW,GACxC,OAAOR,EAAIE,IACf,CAGAH,mBAAmBU,GACf,MAAMT,QAAYC,EAAAA,EAAAA,KAAWJ,EAAKY,GAClC,OAAOT,EAAIE,IACf,CAGAH,oBAAoBS,EAAIC,GACpB,MAAMT,QAAYC,EAAAA,EAAAA,MAAYJ,EAAM,IAAMW,EAAIC,GAC9C,OAAOT,EAAIE,IACf,CAGAH,qBAAqBS,GACjB,MAAMR,QAAYC,EAAAA,EAAAA,UAAaJ,EAAM,IAAMW,GAC3C,OAAOR,EAAIE,IACf,E,mXC/BJ,MAAMA,GAAOQ,EAAAA,EAAAA,MACPC,GAAUD,EAAAA,EAAAA,MACVE,GAAOF,EAAAA,EAAAA,MAGb,SAASG,EAAMC,GACXC,UAAUC,UAAUC,UAAUH,GAC9BI,MAAM,8DACV,CAEAC,eAAeC,EAAMZ,GACjB,GAAIa,QAAQ,6BAA8B,CACtC,MAAMrB,QAAYF,EAAAA,EAAAA,QAAcU,GAChCG,EAAQW,MAAQtB,EAAIW,QACpBY,OAAOC,SAAS,CACZC,IAAK,EACLC,KAAM,EACNC,SAAU,WAGdC,YAAW,KACPC,SAASC,QAAQ,GAClB,IACP,CACJ,C,OAEAC,EAAAA,EAAAA,KAAcZ,UACV,MAAMnB,QAAYgC,EAAAA,EAAAA,OAAYC,OAAOC,GAAQA,IAC7CtB,EAAKU,MAAQtB,EAAImC,SAEjBjC,EAAKoB,YAAcxB,EAAAA,EAAAA,KAAW,I,g4DChClC,MAAMsC,EAAc,EAEpB,O","sources":["webpack://client/./src/api/Infaq.js","webpack://client/./src/views/Infaq/InfaqView.vue","webpack://client/./src/views/Infaq/InfaqView.vue?d3b0"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst url = '/api/infaq'\r\n\r\nexport default class Infaq {\r\n\r\n    // Get all\r\n    static async all() {\r\n        const res = await axios.get(url)\r\n        return res.data.sort((a, b) => {\r\n            return new Date(b.created) - new Date(a.created)\r\n        })\r\n    }\r\n\r\n    // Find\r\n    static async find(id) {\r\n        const res = await axios.get(url + '/' + id)\r\n        return res.data\r\n    }\r\n\r\n    // Store\r\n    static async store(form) {\r\n        const res = await axios.post(url, form)\r\n        return res.data\r\n    }\r\n\r\n    // Update\r\n    static async update(id, form) {\r\n        const res = await axios.patch(url + '/' + id, form)\r\n        return res.data\r\n    }\r\n\r\n    // Destroy\r\n    static async destroy(id) {\r\n        const res = await axios.delete(url + '/' + id)\r\n        return res.data\r\n    }\r\n\r\n}","<script setup>\r\nimport Auth from \"@/api/Auth\";\r\nimport Infaq from \"@/api/Infaq\";\r\nimport { onBeforeMount, ref } from \"vue\";\r\n\r\nconst data = ref()\r\nconst message = ref()\r\nconst user = ref()\r\n\r\n\r\nfunction salin(text) {\r\n    navigator.clipboard.writeText(text)\r\n    alert('No Rek sudah disalin, silakan paste aplikasi perbankan anda')\r\n}\r\n\r\nasync function hapus(id) {\r\n    if (confirm('Konfirmasi hapus kategori')) {\r\n        const res = await Infaq.destroy(id)\r\n        message.value = res.message\r\n        window.scrollTo({\r\n            top: 0,\r\n            left: 0,\r\n            behavior: 'smooth'\r\n        })\r\n\r\n        setTimeout(() => {\r\n            location.reload()\r\n        }, 2000);\r\n    }\r\n}\r\n\r\nonBeforeMount(async () => {\r\n    const res = await Auth.find().catch((err) => err)\r\n    user.value = res.username\r\n\r\n    data.value = await Infaq.all()\r\n})\r\n</script>\r\n\r\n<template>\r\n    <h1>Infaq</h1>\r\n\r\n    <v-divider class=\"mb-4\"></v-divider>\r\n\r\n    <v-alert type=\"success\" class=\"my-3\" closable close-label=\"Close Alert\" v-if=\"message\">\r\n        {{ message }}\r\n    </v-alert>\r\n\r\n    <v-btn color=\"indigo\" class=\"my-2\" prepend-icon=\"mdi-plus\" @click=\"$router.push('/add-infaq')\" v-if=\"user\">\r\n        Tambah Kategori\r\n    </v-btn>\r\n\r\n    <v-row>\r\n        <v-col v-for=\"item in data\" :key=\"item._id\" cols=\"12\" sm=\"4\">\r\n            <v-card class=\"mx-auto\" max-width=\"400\">\r\n                <v-img class=\"align-end text-white\" height=\"200\" :src=\"'/' + item.gambar\" cover>\r\n                    <v-card-title>{{ item.judul }}</v-card-title>\r\n\r\n                    <template v-slot:placeholder>\r\n                        <div class=\"d-flex align-center justify-center fill-height\">\r\n                            <v-progress-circular indeterminate color=\"grey-lighten-4\"></v-progress-circular>\r\n                        </div>\r\n                    </template>\r\n                </v-img>\r\n\r\n                <v-card-text>\r\n                    <div>{{ item.deskripsi }}</div>\r\n                </v-card-text>\r\n\r\n                <v-divider></v-divider>\r\n\r\n                <v-card-text>\r\n                    <div>No Rekening: <strong>{{ item.rekening }}</strong></div>\r\n                    <v-btn variant=\"outlined\" color=\"blue mt-3\" prepend-icon=\"mdi-content-copy\"\r\n                        @click=\"salin(item.rekening)\">\r\n                        Salin\r\n                    </v-btn>\r\n                </v-card-text>\r\n\r\n                <template v-if=\"user\">\r\n                    <v-divider></v-divider>\r\n\r\n                    <v-card-actions>\r\n                        <v-btn color=\"green\" :to=\"`/edit-infaq/${item._id}`\">Edit</v-btn>\r\n                        <v-btn color=\"red\" @click=\"hapus(item._id)\">Hapus</v-btn>\r\n                    </v-card-actions>\r\n                </template>\r\n            </v-card>\r\n        </v-col>\r\n    </v-row>\r\n</template>","import script from \"./InfaqView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./InfaqView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["url","Infaq","static","res","axios","data","sort","a","b","Date","created","id","form","ref","message","user","salin","text","navigator","clipboard","writeText","alert","async","hapus","confirm","value","window","scrollTo","top","left","behavior","setTimeout","location","reload","onBeforeMount","Auth","catch","err","username","__exports__"],"sourceRoot":""}