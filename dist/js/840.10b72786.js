"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[840],{6757:function(t,a,e){e.d(a,{Z:function(){return n}});var l=e(4311);const i="/api/berita";class n{static async all(){const t=await l.Z.get(i);return t.data.sort(((t,a)=>new Date(a.created)-new Date(t.created)))}static async find(t){const a=await l.Z.get(i+"/"+t);return a.data}static async store(t){const a=await l.Z.post(i,t);return a.data}static async update(t,a){const e=await l.Z.patch(i+"/"+t,a);return e.data}static async destroy(t){const a=await l.Z["delete"](i+"/"+t);return a.data}}},5492:function(t,a,e){e.r(a),e.d(a,{default:function(){return Z}});e(7658);var l=e(3396),i=e(7139),n=e(4870),s=e(665),c=e(6757),r=e(7771),o=e(7312),u=e(9752),d=e(6572),w=e(1332),f=e(1888),m=e(1334),k=e(4075),g=e(6824),_=e(8521),h=e(8694),p=e(3173);const y=(0,l._)("h1",null,"Kabar Terkini",-1),v={class:"d-flex align-center justify-center fill-height"};var b={__name:"BeritaView",setup(t){const a=(0,n.iH)(),e=(0,n.iH)(),b=(0,n.iH)();async function W(t){if(confirm("Konfirmasi hapus kategori")){const a=await c.Z.destroy(t);e.value=a.message,window.scrollTo({top:0,left:0,behavior:"smooth"}),setTimeout((()=>{location.reload()}),2e3)}}return(0,l.wF)((async()=>{const t=await s.Z.find().catch((t=>t));b.value=t.username,a.value=await c.Z.all()})),(t,n)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[y,(0,l.Wm)(k.J,{class:"mb-4"}),e.value?((0,l.wg)(),(0,l.j4)(r.w,{key:0,type:"success",class:"my-3",closable:"","close-label":"Close Alert"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.value),1)])),_:1})):(0,l.kq)("",!0),b.value?((0,l.wg)(),(0,l.j4)(o.T,{key:1,color:"indigo",class:"my-2","prepend-icon":"mdi-plus",onClick:n[0]||(n[0]=a=>t.$router.push("/add-berita"))},{default:(0,l.w5)((()=>[(0,l.Uk)(" Tambah Kategori ")])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(g.o,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.value,(t=>((0,l.wg)(),(0,l.j4)(_.D,{key:t._id,cols:"6",sm:"4"},{default:(0,l.w5)((()=>[(0,l.Wm)(u._,{class:"mx-auto","max-width":"400",to:`/find-berita/${t._id}`},{default:(0,l.w5)((()=>[(0,l.Wm)(h.f,{class:"align-end text-white",height:"150",src:"/"+t.gambar,cover:""},{placeholder:(0,l.w5)((()=>[(0,l._)("div",v,[(0,l.Wm)(p.L,{indeterminate:"",color:"grey-lighten-4"})])])),default:(0,l.w5)((()=>[(0,l.Wm)(d.E,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(t.judul),1)])),_:2},1024)])),_:2},1032,["src"]),(0,l.Wm)(w.Q,{class:"pt-4"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Dibuat: "+(0,i.zw)(new Date(t.created).toLocaleDateString()),1)])),_:2},1024),(0,l.Wm)(f.Z,null,{default:(0,l.w5)((()=>[(0,l._)("div",null,(0,i.zw)(t.deskripsi.substring(0,60)+" ..."),1)])),_:2},1024),(0,l.Wm)(k.J),b.value?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(k.J),(0,l.Wm)(m.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(o.T,{color:"green",to:`/edit-berita/${t._id}`},{default:(0,l.w5)((()=>[(0,l.Uk)("Edit")])),_:2},1032,["to"]),(0,l.Wm)(o.T,{color:"red",onClick:a=>W(t._id)},{default:(0,l.w5)((()=>[(0,l.Uk)("Hapus")])),_:2},1032,["onClick"])])),_:2},1024)],64)):(0,l.kq)("",!0)])),_:2},1032,["to"])])),_:2},1024)))),128))])),_:1})],64))}};const W=b;var Z=W}}]);
//# sourceMappingURL=840.10b72786.js.map